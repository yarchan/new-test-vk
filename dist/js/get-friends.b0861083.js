"use strict";(self["webpackChunknew_test_vk"]=self["webpackChunknew_test_vk"]||[]).push([[108],{931:function(e,s,i){i.r(s),i.d(s,{default:function(){return D}});var n=i(252),t=i(963),r=i(577);const l={class:""},d={key:0,class:"get-friends"},c={class:"mb-4"},o={class:"mb-4"},a={class:"mb-4"},f={key:0,class:"get-friends-items"},_={class:"d-flex justify-content-center align-items-center"},u=["src"],w={class:"mb-0 me-2"},p={class:"mb-0"},g={class:"d-flex justify-content-center align-items-center"},m=["onClick"],b=["onClick"];function h(e,s,i,h,k,v){return(0,n.wg)(),(0,n.iD)("div",l,[h.get_friend?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",c,[(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>v.getFriend&&v.getFriend(...e)),class:"btn btn-primary"},"Загрузите список друзей")]),(0,n._)("div",o,[(0,n._)("button",{onClick:s[1]||(s[1]=(...e)=>v.buildNewListFriends&&v.buildNewListFriends(...e)),class:"btn btn-primary"},"Построить")]),(0,n._)("div",a,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>h.select_friends=e),onInput:s[3]||(s[3]=(...e)=>v.newFriends&&v.newFriends(...e)),class:"form-control",placeholder:"Начните вводить текст для поиска друга, которого хотите добавить",type:"text",name:"",id:""},null,544),[[t.nr,h.select_friends]])]),0!=h.new_friends.length?((0,n.wg)(),(0,n.iD)("ul",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h.new_friends,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{class:"get-friends-link",key:s},[(0,n._)("div",_,[(0,n._)("img",{class:"get-friends-link-img",src:e.photo_50,alt:""},null,8,u),(0,n._)("p",w,(0,r.zw)(e.first_name),1),(0,n._)("p",p,(0,r.zw)(e.last_name),1)]),(0,n._)("div",g,[(0,n._)("button",{onClick:s=>e.isAdd=!0,class:"btn btn1"},"Добавить",8,m),e.isAdd?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s=>e.isAdd=!1,class:"btn btn2"},"Удалить",8,b)):(0,n.kq)("",!0)])])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var k=i(262),v=i(231),y={components:{},setup(){return{AppID:"51773806",v:"5.154",friends:(0,k.iH)([]),new_friends:(0,k.iH)([]),select_friends:(0,k.iH)(""),new_list_friend:(0,k.iH)([]),list_friend:v["default"],get_friend:(0,k.iH)(!0)}},beforeMount(){this.init()},methods:{buildNewListFriends(){this.list_friend=this.new_friends.filter((e=>!0===e.isAdd?e:"")),console.log(this.new_list_friends),this.get_friend=!1,this.$router.push("/get-friends/list-friends")},newFriends(){const e=this.select_friends.toLowerCase();this.new_friends=this.friends.filter((s=>{const i=s.first_name.toLowerCase(),n=s.last_name.toLowerCase();return s?i.startsWith(e)||n.startsWith(e):""}))},async init(){await VK.init({apiId:this.AppID})},getFriend(){self=this,VK.Api.call("friends.get",{user_ids:6492,fields:"photo_50",v:this.v},(function(e){e.response&&(self.friends=e.response.items,self.new_friends=e.response.items,localStorage.setItem("r",e.response))}))}}},C=i(744);const F=(0,C.Z)(y,[["render",h]]);var D=F},231:function(e,s,i){var n=i(262);(0,n.iH)([])}}]);
//# sourceMappingURL=get-friends.b0861083.js.map
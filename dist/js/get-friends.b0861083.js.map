{"version":3,"file":"js/get-friends.b0861083.js","mappings":"yMACOA,MAAM,I,SACcA,MAAM,e,GACtBA,MAAM,Q,GAGNA,MAAM,Q,GAGNA,MAAM,Q,SAGsBA,MAAM,qB,GAE9BA,MAAM,oD,aAENA,MAAM,a,GACNA,MAAM,Q,GAENA,MAAM,oD,sEAlBnB,QA0BM,MA1BN,EA0BM,CAzBO,EAAU,a,WAArB,QAuBM,MAvBN,EAuBM,EAtBJ,OAEM,MAFN,EAEM,EADJ,OAAmF,UAA1E,QAAK,oBAAE,EAAAC,WAAA,EAAAA,aAAA,IAAWD,MAAM,mBAAkB,8BAErD,OAEM,MAFN,EAEM,EADJ,OAA+E,UAAtE,QAAK,oBAAE,EAAAE,qBAAA,EAAAA,uBAAA,IAAqBF,MAAM,mBAAkB,gBAE/D,OAEM,MAFN,EAEM,E,SADJ,OAAkL,S,qCAAlK,EAAc,kBAAG,QAAK,oBAAE,EAAAG,YAAA,EAAAA,cAAA,IAAYH,MAAM,eAAeI,YAAY,mEAAmEC,KAAK,OAAOC,KAAK,GAAGC,GAAG,I,iBAA/J,EAAAC,oBAEY,GAApB,EAAAC,YAAYC,S,WAAtB,QAYK,KAZL,EAYK,G,aAXH,QAUK,mBAVkD,EAAAD,aAAW,CAA5BE,EAAOC,M,WAA7C,QAUK,MAVAZ,MAAM,mBAA0Da,IAAKD,G,EACxE,OAIM,MAJN,EAIM,EAHJ,OAAgE,OAA3DZ,MAAM,uBAAwBc,IAAKH,EAAOI,SAAUC,IAAI,I,WAC7D,OAA8C,IAA9C,GAA8C,QAAvBL,EAAOM,YAAU,IACxC,OAAwC,IAAxC,GAAwC,QAAtBN,EAAOO,WAAS,MAEpC,OAGM,MAHN,EAGM,EAFJ,OAAqE,UAA5D,QAAK,GAAEP,EAAOQ,OAAM,EAAMnB,MAAM,YAAW,WAAQ,KAClBW,EAAY,Q,WAAtD,QAAyF,U,MAAhF,QAAK,GAAEA,EAAOQ,OAAM,EAA2BnB,MAAM,YAAW,UAAO,O,0FAuC5F,GACEoB,WAAW,CAEX,EACA,KAAAC,GACE,MAAM,CACJC,MAAQ,WACRC,EAAI,QACJC,SAAQ,QAAI,IACZf,aAAY,QAAI,IAChBD,gBAAe,QAAI,IACnBiB,iBAAgB,QAAI,IACpBC,YAAW,aACXC,YAAW,SAAI,GAEnB,EACA,WAAAC,GACEC,KAAKC,MACP,EACAC,QAAQ,CACN,mBAAA7B,GACE2B,KAAKH,YAAcG,KAAKpB,YAAYuB,QAAOrB,IAAuB,IAAfA,EAAOQ,MAAaR,EAAO,KAC9EsB,QAAQC,IAAIL,KAAKM,kBACjBN,KAAKF,YAAa,EAClBE,KAAKO,QAAQC,KAAK,4BACpB,EAEA,UAAAlC,GACE,MAAMmC,EAAaT,KAAKrB,eAAe+B,cACvCV,KAAKpB,YAAcoB,KAAKL,QAAQQ,QAAOrB,IACrC,MAAM6B,EAAY7B,EAAOM,WAAWsB,cAC9BE,EAAW9B,EAAOO,UAAUqB,cAClC,OAAO5B,EAAS6B,EAAUE,WAAWJ,IAAeG,EAASC,WAAWJ,GAAY,EAAE,GAE1F,EACA,UAAMR,SACEa,GAAGb,KAAK,CACZc,MAAOf,KAAKP,OAEhB,EACA,SAAArB,GACE4C,KAAMhB,KACLc,GAAGG,IAAIC,KAAK,cAAe,CAC1BC,SAAU,KACVC,OAAO,WACP1B,EAAEM,KAAKN,IAET,SAAS2B,GACJA,EAAEC,WACHN,KAAKrB,QAAU0B,EAAEC,SAASC,MAC1BP,KAAKpC,YAAcyC,EAAEC,SAASC,MAC9BC,aAAaC,QAAQ,IAAIJ,EAAEC,UAG/B,GACF,I,SC5GJ,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,oCCPuB,QAAI,G","sources":["webpack://new-test-vk/./src/components/get-friends.vue","webpack://new-test-vk/./src/components/get-friends.vue?4b40","webpack://new-test-vk/./src/store/store.js"],"sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div v-if=\"get_friend\" class=\"get-friends\">\r\n      <div class=\"mb-4\">\r\n        <button @click=\"getFriend\" class=\"btn btn-primary\">Загрузите список друзей</button>\r\n      </div>\r\n      <div class=\"mb-4\">\r\n        <button @click=\"buildNewListFriends\" class=\"btn btn-primary\">Построить</button>\r\n      </div>\r\n      <div class=\" mb-4\">\r\n        <input v-model=\"select_friends\" @input=\"newFriends\" class=\"form-control\" placeholder=\"Начните вводить текст для поиска друга, которого хотите добавить\" type=\"text\" name=\"\" id=\"\">\r\n      </div>\r\n      <ul v-if=\"new_friends.length!=0\" class=\"get-friends-items\" >\r\n        <li  class=\"get-friends-link\" v-for=\"(friend,index) in new_friends\" :key=\"index\">\r\n          <div class=\"d-flex justify-content-center align-items-center\">\r\n            <img class=\"get-friends-link-img\" :src=\"friend.photo_50\" alt=\"\">\r\n            <p class=\"mb-0 me-2\">{{friend.first_name}}</p>\r\n            <p class=\"mb-0\">{{friend.last_name}}</p>\r\n          </div>\r\n          <div class=\"d-flex justify-content-center align-items-center\">\r\n            <button @click=\"friend.isAdd=true\" class=\"btn btn1\">Добавить</button>\r\n            <button @click=\"friend.isAdd=false\" v-if=\"friend.isAdd\" class=\"btn btn2\">Удалить</button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- <ListFriends v-if=\"!get_friend\" :list_friends=\"new_list_friends\" @get_friend=\"get_friend=$event\"/> -->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  .get-friends{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .get-friends-items{\r\n    min-width: 500px;\r\n    max-width: 500px;\r\n    border: 1px solid grey;\r\n    border-radius: 5px;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  .get-friends-link{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 20px;\r\n    transition: 0.2s linear;\r\n  }\r\n  .get-friends-link-img{\r\n    margin-right: 20px;\r\n  }\r\n</style>\r\n\r\n<script>\r\nimport {ref} from 'vue'\r\nimport list_friend from '../store/store.js'\r\n\r\nexport default {\r\n  components:{\r\n    // ListFriends\r\n  },\r\n  setup(){\r\n    return{\r\n      AppID : '51773806',\r\n      v : '5.154',\r\n      friends:ref([]),\r\n      new_friends:ref([]),\r\n      select_friends:ref(''),\r\n      new_list_friend:ref([]),\r\n      list_friend,\r\n      get_friend:ref(true)\r\n    }\r\n  },\r\n  beforeMount(){\r\n    this.init()\r\n  },\r\n  methods:{\r\n    buildNewListFriends(){\r\n      this.list_friend = this.new_friends.filter(friend=>friend.isAdd===true?friend:'')\r\n      console.log(this.new_list_friends);\r\n      this.get_friend = false\r\n      this.$router.push('/get-friends/list-friends')\r\n    },\r\n\r\n    newFriends(){\r\n      const searchText = this.select_friends.toLowerCase();\r\n      this.new_friends = this.friends.filter(friend => {\r\n        const firstName = friend.first_name.toLowerCase();\r\n        const lastName = friend.last_name.toLowerCase();\r\n        return friend ? firstName.startsWith(searchText) || lastName.startsWith(searchText):'';\r\n      });\r\n    },\r\n    async init(){\r\n      await VK.init({\r\n        apiId: this.AppID\r\n      });\r\n    },\r\n    getFriend(){\r\n      self =this\r\n       VK.Api.call('friends.get', {\r\n        user_ids: 6492, \r\n        fields:'photo_50',\r\n        v:this.v,\r\n      }, \r\n      function(r) {\r\n        if(r.response) {\r\n          self.friends = r.response.items\r\n          self.new_friends = r.response.items\r\n          localStorage.setItem('r',r.response)\r\n          // self.$router.push('/get-friends/list-friends')\r\n        }\r\n      });\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n","import { render } from \"./get-friends.vue?vue&type=template&id=3318cfcc\"\nimport script from \"./get-friends.vue?vue&type=script&lang=js\"\nexport * from \"./get-friends.vue?vue&type=script&lang=js\"\n\nimport \"./get-friends.vue?vue&type=style&index=0&id=3318cfcc&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {ref} from 'vue'\r\n\r\nexport let list_friend=ref([])"],"names":["class","getFriend","buildNewListFriends","newFriends","placeholder","type","name","id","select_friends","new_friends","length","friend","index","key","src","photo_50","alt","first_name","last_name","isAdd","components","setup","AppID","v","friends","new_list_friend","list_friend","get_friend","beforeMount","this","init","methods","filter","console","log","new_list_friends","$router","push","searchText","toLowerCase","firstName","lastName","startsWith","VK","apiId","self","Api","call","user_ids","fields","r","response","items","localStorage","setItem","__exports__","render"],"sourceRoot":""}